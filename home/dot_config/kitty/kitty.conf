include tokyo-night-theme.conf

# ===== 字体配置 =====
font_family monospace
bold_font auto
italic_font auto
bold_italic_font auto
font_size 14.0

# 禁用连字（编程连字符）
# never: 始终显示连字
# cursor: 光标下不显示连字（推荐，便于编辑）
# always: 从不显示连字
disable_ligatures cursor

# ===== 光标配置 =====
# 光标形状和闪烁
cursor_shape beam
cursor_blink_interval 0.5
cursor_stop_blinking_after 15.0

# 未聚焦时光标显示为空心
cursor_unfocused_hollow yes

# ===== 滚动配置 =====
scrollback_lines 10000
wheel_scroll_multiplier 5.0
touch_scroll_multiplier 1.0

# ===== 鼠标配置 =====
# 输入时隐藏鼠标
mouse_hide_wait 3.0
mouse_select_threshold 12.0

# URL 检测和打开
open_url_with default
detect_urls yes
url_prefixes file ftp ftps gemini git gopher http https irc ircs kitty mailto news sftp ssh

# 复制到剪贴板
copy_on_select no

# 选择时的语义字符
select_by_word_characters @-./_~?&=%+#

# 复制文本时去除尾随空格
strip_trailing_spaces smart


# 鼠标操作
# 左键选择，右键粘贴，中键粘贴选择内容（Linux）
# mouse_map left click ungrabbed mouse_selection normal
# mouse_map ctrl+left click ungrabbed mouse_selection rectangle
# mouse_map right press ungrabbed paste_from_clipboard
# mouse_map middle press ungrabbed paste_from_selection

mouse_map left click ungrabbed no_op
mouse_map left press ungrabbed mouse_selection normal
mouse_map left doubleclick ungrabbed mouse_selection word
mouse_map left tripleclick ungrabbed mouse_selection line
mouse_map ctrl+left click ungrabbed mouse_selection rectangle
mouse_map right press ungrabbed paste_from_clipboard

# ===== 终端配置 =====
term xterm-256color
shell .

# ===== 性能优化 =====
repaint_delay 10
input_delay 3
sync_to_monitor yes

# ===== 音频 =====
enable_audio_bell no
visual_bell_duration 0.0

# ===== 窗口配置 =====
enabled_layouts *
window_resize_step_cells 2
window_resize_step_lines 2

# 窗口内边距
window_padding_width 6

# 窗口装饰 (无边框)
# hide_window_decorations yes

# 窗口透明度
background_opacity 0.75

# 窗口标题
window_title BozeKitty

# 动态标题
dynamic_background_opacity no

# 初始窗口大小 (如需最大化启动，可使用 remember_window_size no 并设置具体尺寸)
# initial_window_width 640
# initial_window_height 401
remember_window_size yes

# 布局切换时记住窗口大小
placement_strategy center

# 窗口大小调整步进（单元格）
resize_draw_strategy static

# ===== 标签页配置 =====
tab_bar_edge bottom
tab_bar_style powerline
tab_bar_min_tabs 2
tab_powerline_style slanted
tab_title_template "{index}: {title}"

# ===== 颜色方案 (如果不使用主题文件) =====
# 你可以在这里定义自己的颜色，或者使用上面的 include 导入主题
# foreground #dddddd
# background #000000
# selection_foreground #000000
# selection_background #fffacd

# ===== 快捷键配置 =====
# 清除所有默认快捷键（可选）
# clear_all_shortcuts yes

# === 基础操作 ===
# 新建窗口
map ctrl+shift+n new_os_window

# 复制粘贴
map ctrl+shift+c copy_to_clipboard
map ctrl+shift+v paste_from_clipboard
map ctrl+shift+alt+v paste_from_selection

# 搜索功能
map ctrl+shift+f show_scrollback
# 注意：Kitty 的搜索在滚动缓冲区查看器中使用 / 键

# === 字体大小调整 ===
map ctrl+equal change_font_size all +1.0
map ctrl+plus change_font_size all +1.0
map ctrl+kp_add change_font_size all +1.0
map ctrl+minus change_font_size all -1.0
map ctrl+kp_subtract change_font_size all -1.0
map ctrl+0 change_font_size all 0

# === 滚动功能 ===
map shift+page_up scroll_page_up
map shift+page_down scroll_page_down
map shift+home scroll_home
map shift+end scroll_end
map shift+up scroll_line_up
map shift+down scroll_line_down

# === 清屏功能 ===
map ctrl+shift+k clear_terminal scrollback active
map ctrl+l clear_terminal to_cursor active

# === 窗口管理 ===
# 切换全屏
map f11 toggle_fullscreen

# 退出程序
map ctrl+shift+q quit

# === 标签页管理 ===
# 新建标签页
map ctrl+shift+t new_tab
map cmd+t new_tab

# 关闭标签页
map ctrl+shift+w close_tab
map cmd+w close_tab

# 切换标签页
map ctrl+tab next_tab
map ctrl+shift+tab previous_tab

# 选择特定标签页
map cmd+1 goto_tab 1
map cmd+2 goto_tab 2
map cmd+3 goto_tab 3
map cmd+4 goto_tab 4
map cmd+5 goto_tab 5
map cmd+6 goto_tab 6
map cmd+7 goto_tab 7
map cmd+8 goto_tab 8
map cmd+9 goto_tab 9

# === 窗口分割 ===
# Kitty 支持窗口分割，这是 Alacritty 没有的功能
map ctrl+shift+enter new_window_with_cwd
map ctrl+shift+] next_window
map ctrl+shift+[ previous_window
map ctrl+shift+f move_window_forward
map ctrl+shift+b move_window_backward

# 水平/垂直分割
map f5 launch --location=hsplit --cwd=current
map f6 launch --location=vsplit --cwd=current

# 关闭当前窗口
map ctrl+shift+x close_window

# 调整窗口大小
map ctrl+shift+r start_resizing_window
map ctrl+shift+h neighboring_window left
map ctrl+shift+l neighboring_window right
map ctrl+shift+k neighboring_window up
map ctrl+shift+j neighboring_window down

# === macOS 专用快捷键 ===
map cmd+h hide_macos_app
map cmd+m minimize_macos_window
map cmd+q quit
map ctrl+cmd+f toggle_macos_secure_keyboard_entry

# === 重新加载配置 ===
map ctrl+shift+f5 load_config_file
map ctrl+shift+r load_config_file

# === 调试 ===
# 查看 Kitty 配置
# map ctrl+shift+f6 debug_config

# ===== 高级功能 =====
# 允许远程控制 (用于与外部工具集成)
allow_remote_control yes
listen_on unix:/tmp/kitty

# 启动时会话
# startup_session none

# 剪贴板
clipboard_control write-clipboard write-primary read-clipboard read-primary

# ===== 注意事项 =====
# 1. Kitty 不支持 Vi 模式，但有强大的滚动缓冲区查看器
# 2. Kitty 的窗口管理功能比 Alacritty 更强大，支持分割窗口
# 3. Catppuccin 主题需要单独下载到 ~/.config/kitty/ 目录
# 4. 某些快捷键可能需要根据你的操作系统调整
# 5. Kitty 使用 kittens 扩展功能，可以安装各种插件
